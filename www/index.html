<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<script type="text/javascript" src="signal001/original_signal.js"></script>
		<script type="text/javascript" src="signal001/approx_signal.js"></script>
		
		<script type="text/javascript">
			function onbodyload(){
				var el = document.getElementById('graphic');
				var height = 600;
				var width = original_signal.length;
				el.setAttribute('width', width);
				el.setAttribute('height', height);
				var ctx = el.getContext("2d");
				ctx.font = "14px Arial";
				ctx.fillStyle = "#000";
				ctx.strokeStyle = "#000";

				ctx.fillRect  (0, 0, el.width, el.height);
				ctx.strokeRect(0, 0, el.width, el.height);
				ctx.fillStyle = "#000";

				ctx.strokeStyle = "#CCC";
				ctx.beginPath();
				ctx.moveTo(0,height/2);
				ctx.lineTo(width,height/2);
				ctx.stroke();
				ctx.closePath();

				var diff = height/32768;
				function scaleY(y){
					return y*diff + height/2;
				};

				ctx.strokeStyle = "#3333ff";
				ctx.beginPath();
				ctx.moveTo(0,scaleY(original_signal[0]));
				for(var i = 1; i < original_signal.length; i++){
					ctx.lineTo(i,scaleY(original_signal[i]));
				}
				ctx.stroke();
				
				ctx.strokeStyle = "#ff3333";
				ctx.beginPath();
				ctx.moveTo(0,scaleY(approx_signal(0)));
				for(var i = 1; i < original_signal.length; i++){
					var t = i/16;
					ctx.lineTo(i,scaleY(approx_signal(t)));
				}
				ctx.stroke();
				
				ctx.fillStyle = "#FFF";
				// ctx.font="20px Georgia";
				ctx.fillText("Diff value: " + getDiffValue(),10,25);
				ctx.fillText("Date: " + getDt(),10,50);
			};
		</script>
		
	</head>
	<body onload="onbodyload();">
		<canvas id="graphic" width="2048" height="700"></canvas>
	</body>
</html>
